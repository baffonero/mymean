extends layout

block head
  link(rel='stylesheet', href='/javascripts/vendor/bootstrap-css/css/bootstrap.css')

  script(type='text/javascript', src='/javascripts/controllers/UserController.js')

block content 
  script(type="text/javascript")
    var sortingOrder = 'name';

  div.container(ng-controller="UserController", ng-init="setUsers(#{JSON.stringify(users)})")
    h1 Users
    div.input-append
     input(type='text' type="text" ng-model="query" ng-change="search()" class="input-large search-query" placeholder="Search")
     //class=["table","table-striped","table-condensed","table-hover"]
     table 
        tr
            th(class = "_id"  ng-click= "sort_by('_id')" class="icon-sort") Id
            th(class = "name"  ng-click="sort_by('name')" class="icon-sort") Name
            th(class = "nick" ng-click="sort_by('nick')" class="icon-sort") Nick
            //th class="field3">Field 3&nbsp;<a ng-click="sort_by('field3')"><i class="icon-sort"></i></a></th>
            //th class="field4">Field 4&nbsp;<a ng-click="sort_by('field4')"><i class="icon-sort"></i></a></th>
            //th class="field5">Field 5&nbsp;<a ng-click="sort_by('field5')"><i class="icon-sort"></i></a></th>

            //tfoot
            //    td(colspan="6")
            //        div (class="pagination pull-right")
            //            ul
            //                li(ng-class="{disabled: currentPage == 0}")
            //                    a(href="" ng-click="prevPage()")« Prev
            //
            //                li(ng-repeat="n in range(pagedItems.length)" ng-class="{active: n == currentPage}" ng-click="setPage()")
            //                    a(href="" ng-bind="n + 1")
            //                
            //                li(ng-class="{disabled: currentPage == pagedItems.length - 1}")
            //                    a(href="" ng-click="nextPage()")Next »
                            


            tbody
                tr(ng-repeat="item in pagedItems[currentPage] | orderBy:sortingOrder:reverse")
                    td {{item._id}}
                    td {{item.name}}
                    td {{item.nick}}
                    //td {{item.field3}}</td>
                    //td {{item.field4}}</td>
                    //td {{item.field5}}</td>

